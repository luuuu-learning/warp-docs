---
sidebar_position: 4
---

# Conditions

Conditions define the set of circumstances under which a job can be triggered. 
Once all the specific parameters of a condition are met, the job tied to the condition becomes active and is ready to be completed.

## Expressions

Expressions define the logic of a condition, evaluating to either `true` or `false`. All conditions are made up of at least one expression which contains a left side, an operator, and a right side. 

The simplest form of condition contains only one expression which triggers a job when the expression evaluates as `true`. 

## Values

There are two basic value types. 

1. Simple values, such as strings, integers, blockheights, or timestamps.


2. Query values, which are complex and parse out to custom JSON query files. 


### Simple values

Simple values can be 


```rust
#[cw_serde]
pub enum Expr {
    String(GenExpr<Value<String>, StringOp>),
    Uint(GenExpr<Value<Uint256>, NumOp>),
    Int(GenExpr<Value<i128>, NumOp>),
    Decimal(GenExpr<Value<Decimal256>, NumOp>),
    Timestamp(TimeExpr),
    BlockHeight(TimeExpr),
    Bool(QueryExpr),
}
```


### Query values

```
pub struct QueryExpr {
    pub selector: String,
    pub query: String,
    pub contract: String,
}
```




### Combining expressions

Expressions can be nested and combined using the _`and`_, _`or`_, and _`not`_ boolean operators to create a theoretically infinite variety of specific conditions to trigger a job.

The boolean operators for creating a multiple expression include:

- _`and`_: A condition is met if all expresions joined by _`and`_ evaluate as `true`. 

- _`or`_:  A condition is met if either expression evaluates as `true`. 

- _`not`_: If the expression after this operator evaluates as `true`, the condition is not met. 




## Expression syntax

Values are combined into expressions using the following syntax. 

### Comparative expressions: 

Left: the first value that preceeds the operator

operator: the operator used, depending on the value type. 

right: the value after the operator

### Boolean expressions

Boolean expressions do not require operators as they evaluate to `true` or `false`. 


## Nesting







This trigger will be active under the following conditions:

1. When a `string` of the `"query": "{\"query_test_string\":{\"str\":\"str\"}}",` equals the `"query": "{\"query_test_string\":{\"str\":\"str\"}}",` of the `"contract": "terra19fxyg89an4d35w3mhfeuhdum7jq3atzt65sslk73myvtmu6m8nrq4rt8mm"`

OR 

The parent conditions of this JSON trigger are listed . Conditions will always preceed their 


Conditions come first in the JSON 

<CH.Scrollycoding>

## Conditions

Conditions 

```json Example.JSON focus=4,6,29,54 mark=4,6,29,54
{
    "query_resolve_trigger": {
        "trigger": {
          "and": [
            {
              "or": [
                {
                  "expr": {
                    "string": {
                      "op": "eq",
                      "left": {
                        "query": {
                          "query": "{\"query_test_string\":{\"str\":\"str\"}}",
                          
                          "selector": "$.str"
                        }
                      },
                      "right": {
                        "query": {
                          "query": "{\"query_test_string\":{\"str\":\"str\"}}",
                          "contract": "terra19fxyg89an4d35w3mhfeuhdum7jq3atzt65sslk73myvtmu6m8nrq4rt8mm",
                          "selector": "$.str"
                        }
                      }
                    }
                  }
                },
                {
                  "not": {
                    "expr": {
                      "int": {
                        "op": "eq",
                        "left": {
                          "query": {
                            "query": "{\"query_test_int\":{\"int\":\"1\"}}",
                            "contract": "terra19fxyg89an4d35w3mhfeuhdum7jq3atzt65sslk73myvtmu6m8nrq4rt8mm",
                            "selector": "$.int"
                          }
                        },
                        "right": {
                          "query": {
                            "query": "{\"query_test_int\":{\"int\":\"1\"}}",
                            "contract": "terra19fxyg89an4d35w3mhfeuhdum7jq3atzt65sslk73myvtmu6m8nrq4rt8mm",
                            "selector": "$.int"
                          }
                        }
                      }
                    }
                  }
                }
              ]
            },
            {
              "expr": {
                "bool": {
                  "query": "{\"query_test_bool\":{\"bool\":true}}",
                  "contract": "terra19fxyg89an4d35w3mhfeuhdum7jq3atzt65sslk73myvtmu6m8nrq4rt8mm",
                  "selector": "$.bool"
                }
              }
            }
          ]
        }
    }
}
```
---

## Operators

```json Example.JSON

```

</CH.Scrollycoding>
